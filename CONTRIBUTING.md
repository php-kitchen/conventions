# Contributing


## Core Development Discussion
You may propose new features or improvements of existing behavior in the GitHub issue board. If you propose a new feature, please be willing to implement at least some of the code that would be needed to complete the feature.

We have a [Discord server](https://discordapp.com/) where you can ask any questions, suggest improvements or just to talk with community and developers. [Here is an invitation to the server](https://discord.gg/Ez5VZhC) 

## Contributing flow
If you found a bug and want to report it, want to change something in codebase or have great idea fo improvement - create GitHub issue.

We encourage pull requests, not just bug reports and feature requests. "Bug reports" may also be sent in the form of a pull request containing a failing test.

However, if you file a bug report, your issue should contain a title and a clear description of the issue. You should also include as much relevant information as possible and a code sample that demonstrates the problem. The goal of a bug report is to make it easy for yourself - and others - to replicate the bug and develop a fix.

Remember, bug reports are created in the hope that others with the same problem will be able to collaborate with you on solving it. Do not expect that the bug report will automatically see any activity or that others will jump to fix it. Creating a bug report serves to help yourself and others start on the path of fixing the problem.

## Security Vulnerabilities
If you discover a security vulnerability, please send a message to Dmitry Kolodko in Discord or an email at prowwid@gmail.com. All security vulnerabilities will be promptly addressed.

## Code style
We follow follows the [PSR-2](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-2-coding-style-guide.md) coding standard and the [PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md) autoloading standard with few additions:
- open bracket should be on the same line with control statement (if () {, function doSmth() { etc.)
- interfaces kept in `Contract` namespace and do not include `I`, `Interface` or other kinds of prefixes
- directories, classes and methods organized by Single Responsibility Principle
- PHP 7 type hints should be always everywhere is possible except of PHPDoc type hints
- method names should be self-explained in the way you won't need a PHPDoc comment

## Commit message format 
We follow strict commit message format when dealing with issue. Commit message should always have following template:
```
{id}: commit message

----
{summary}
https://github.com/php-kitchen/{repository id}/issues/{id}
```
Structure of "commit message" is good to keep in the following format:
```
Short (50 chars or less) summary of changes

More detailed explanatory text, if necessary.  Wrap it to
about 72 characters or so.  In some contexts, the first
line is treated as the subject of an email and the rest of
the text as the body.  The blank line separating the
summary from the body is critical (unless you omit the body
entirely); tools like rebase can get confused if you run
the two together.

Further paragraphs come after blank lines.

  - Bullet points are okay, too

  - Typically a hyphen or asterisk is used for the bullet,
    preceded by a single space, with blank lines in
    between, but conventions vary here
```
Commit message should be in the Past Tense, for example:
```
#1: removed redundant JS code.
```
You can use other tense only in some kind of "TODO" notes and similar things that does not describe relevant changes in a commit.

Example of a real commit message:
```
#7: fixed method name collision with Codeception.

As "expectTo" needs to be available only for PHPUnit it moved to a tester class.
To keep IDE auto-complete working in PHPUnit, in TestGuy interface added PHPDoc definition of "expectTo" (in case interface will be used in callback with verifyThat)

----
expectThat conflicts with Codeception one
https://github.com/php-kitchen/code-specs/issues/7
```

To get commit messages automatically generated by template read more about [Managing tasks and contexts in PHPStorm](https://www.jetbrains.com/help/phpstorm/managing-tasks-and-contexts.html).